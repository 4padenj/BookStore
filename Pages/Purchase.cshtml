@page
@model BookStore.Pages.PurchaseModel
@{
}

<div class="container">
    <div class="w-100 bg-dark p-5 text-center">
        <h1 class="display-3 text-light">Your Beautiful Cart</h1>
    </div>
    <table class="table table-dark">
        <thead>
            <tr>
                <th scope="col">Book ID</th>
                <th scope="col">Title</th>
                <th scope="col">ISBN</th>
                <th scope="col">Price Per Each</th>
                <th scope="col">Quantity</th>
                <th scope="col">Sub Total</th>
                <th scope="col">Remove</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var line in Model.Cart.Lines)
            {
            <tr>
                <th scope="row">@line.Book.BookID</th>
                <td>@line.Book.Title</td>
                <td>@line.Book.ISBN</td>
                <td>$@line.Book.Price</td>
                <td>@line.Quantity</td>
                <td>$@(line.Book.Price*line.Quantity)</td>
                <td>
                    <form asp-page-handler="Remove" method="post">
                        <input type="hidden" name="BookID" value="@line.Book.BookID" />
                        <input type="hidden" name="returnUrl" value="@Model.ReturnUrl" />
                        <button type="submit" class="btn btn-danger">Remove</button>
                    </form>
                </td>
            </tr>
            }
        </tbody>
        <tfoot class="bg-light text-dark">
            <tr>
                <th colspan="5">TOTAL: </th>
                
                <th >$@Model.Cart.ComputeTotalSum()</th>
                <td>Check Out</td>
            </tr>
        </tfoot>
    </table>
    <div class="container mb-5">
        <div class="float-right"><a class="btn btn-info" href="@Model.ReturnUrl">Browse More Books</a></div>
    </div>


</div>
